# 一、軟體需求規格書（Software Requirements Specification, SRS）

## 1. 文件資訊

### 1.1 文件基本資料
- 文件名稱：線上購物平台－軟體需求規格書（SRS）
- 版本號：v1.0.0
- 專案名稱：NextShop 線上購物平台
- 編寫單位：XXX 軟體開發部
- 核准單位：YYY 產品管理部
- 文件狀態：草稿 / 審核中 / 已核准

### 1.2 文件版本控制

| 版本  | 日期       | 作者   | 變更說明                           | 審核人 |
|-------|------------|--------|------------------------------------|--------|
| 0.1.0 | 2025-01-10 | 王小明 | 初版建立：文件架構與章節           | 林主管 |
| 0.9.0 | 2025-01-20 | 王小明 | 完成功能需求、非功能需求初稿       | 林主管 |
| 1.0.0 | 2025-01-30 | 王小明 | 依審查意見修正並定版               | 張經理 |

### 1.3 參考文件與標準
- IEEE/ISO/IEC 29148：系統與軟體工程－需求工程（作為 SRS 結構參考）
- 公司內部「軟體開發流程管理手冊」
- 相關法規：
  - 個人資料保護法
  - 電子簽章法
  - 電子商務相關消費者保護規範

---

## 2. 專案概述

### 2.1 系統目的
NextShop 線上購物平台旨在提供一般消費者透過網頁與行動裝置進行商品瀏覽、下單、付款與訂單查詢的服務，並提供商家上架商品、管理庫存與查看銷售報表的功能。

目標：
- 提供穩定、安全且易用的 B2C 電子商務平台
- 支援多種付款方式與物流方式
- 提供可擴充的架構以支援未來行銷活動與多國多幣別（示意需求，可依專案調整）

### 2.2 系統範圍
包含：
- 前台：訪客與會員的商品瀏覽、搜尋、下單及訂單查詢
- 後台：商品管理、訂單管理、庫存管理、行銷活動設定、報表查詢
- 第三方整合：金流（信用卡、第三方支付）、物流（宅配、超商取貨）

不包含：
- 實體門市 POS 系統
- 供應商內部 ERP/倉儲系統（僅提供匯出檔案或 API 介面）

### 2.3 預期讀者
- 產品經理：確認需求內容與優先順序
- 系統分析師／架構師：作為系統設計依據
- 開發人員：作為功能實作與測試撰寫依據
- 測試人員：撰寫測試計畫與測試案例之參考
- 運維人員：理解系統運作需求與限制

---

## 3. 整體描述

### 3.1 產品視角
NextShop 為一獨立 Web 系統，並提供 RESTful API 供未來行動 App 或第三方整合使用。  

與外部系統之互動：
- 金流平台：進行付款授權與請款
- 物流平台：建立出貨單與查詢物流狀態
- 簡訊/Email 發送服務：發送訂單通知與驗證碼

### 3.2 使用者類型與特性

| 使用者類型   | 說明                          | 典型操作                                     |
|--------------|-------------------------------|----------------------------------------------|
| 訪客         | 未登入之使用者                | 瀏覽商品、搜尋商品、加入購物車、註冊帳號     |
| 一般會員     | 已註冊並登入之消費者          | 下單、付款、查詢訂單、管理收件地址與付款方式 |
| 商家管理者   | 負責商品與訂單的後台管理人員  | 上架/下架商品、設定價格、審核訂單、查詢報表  |
| 系統管理員   | IT / 產品管理單位             | 管理使用者權限、系統參數、行銷規則、整體監控 |

### 3.3 運作環境

#### 3.3.1 硬體環境（示意）
- 應用伺服器：Linux x86_64, 8 CPU, 16GB RAM 以上
- 資料庫伺服器：Linux x86_64, 8 CPU, 32GB RAM 以上, SSD 儲存

#### 3.3.2 軟體環境（示意）
- 後端：Golang / Java / Node.js 擇一
- 前端：Vue / React SPA
- 資料庫：PostgreSQL / MySQL
- 作業系統：Ubuntu Server LTS
- 瀏覽器支援：Chrome、Firefox、Edge 最新兩個版本

#### 3.3.3 網路與安全環境
- 所有對外 HTTP 通訊須使用 HTTPS（TLS 1.2+）
- 外部金流及物流平台需透過 VPN 或 IP 白名單保護

---

## 4. 功能需求

> 說明：以下功能需求採用分區塊描述，每條需求均給予唯一編號，便於追蹤。

### 4.1 使用者與會員管理（FR-USER）

#### FR-USER-001 註冊帳號
- 說明：訪客可透過 Email 或手機號碼註冊新帳號。
- 前置條件：訪客尚未登入且該 Email/手機尚未註冊。
- 基本流程：
  1. 使用者輸入 Email/手機、密碼與必要基本資料（姓名、性別選填、生日選填）。
  2. 系統驗證格式與資料完整性。
  3. 系統寄送驗證信或簡訊。
  4. 使用者完成驗證後帳號啟用。
- 例外流程：
  - 若 Email/手機已存在，系統顯示錯誤訊息。
- 驗收條件：
  - 使用已註冊的帳號成功登入系統。

#### FR-USER-002 登入 / 登出
- 說明：會員可透過帳號密碼登入，並可登出。
- 需求要點：
  - 密碼需加密儲存（不可明文）。
  - 連續登入失敗超過 N 次需觸發額外驗證機制（如圖形驗證碼）。

### 4.2 商品瀏覽與搜尋（FR-PROD）

#### FR-PROD-001 商品列表瀏覽
- 說明：訪客與會員可瀏覽商品列表頁。
- 功能細節：
  - 支援依分類、關鍵字、價格區間、排序方式（價格、上架日期、銷量）篩選。
  - 預設每頁顯示 20 筆，可切換每頁 20/40/80 筆。

#### FR-PROD-002 商品詳細資訊
- 內容包含：商品名稱、圖片、售價、庫存狀態、規格、描述、評價平均分數及評論列表。

### 4.3 購物車與訂單（FR-ORDER）

#### FR-ORDER-001 加入購物車
- 說明：訪客與會員均可將商品加入購物車。
- 特別條件：
  - 訪客購物車暫存於 Cookie / LocalStorage，登入後可選擇合併至會員購物車。

#### FR-ORDER-002 建立訂單
- 說明：會員可從購物車建立訂單。
- 必填資訊：
  - 收件人姓名、電話、地址
  - 付款方式
  - 配送方式
- 業務規則：
  - 商品庫存需在下單時鎖定，避免超賣。
  - 訂單建立成功後產生唯一訂單編號。

#### FR-ORDER-003 付款流程
- 流程說明：
  1. 系統將訂單資訊傳送至金流平台。
  2. 使用者於金流頁面完成付款。
  3. 金流平台回傳付款結果。
  4. 系統更新訂單狀態（已付款 / 付款失敗）。
- 錯誤處理：
  - 付款失敗時，訂單狀態維持「待付款」，並顯示錯誤訊息。

### 4.4 後台管理（FR-ADMIN）

#### FR-ADMIN-001 商品管理
- 功能：
  - 新增/編輯/下架商品
  - 設定商品分類、售價、圖片、庫存數量
  - 批次匯入商品清單（CSV）

#### FR-ADMIN-002 訂單管理
- 功能：
  - 查詢訂單列表（依日期、狀態、會員關鍵字）
  - 檢視訂單詳細內容
  - 更新訂單物流資訊（出貨、到貨）
  - 處理退貨/退款申請

---

## 5. 非功能需求

### 5.1 效能需求（NFR-PERF）

#### NFR-PERF-001 同時使用者數
- 系統需支援至少 1,000 名同時線上使用者，且首頁載入時間在 3 秒以內（可依專案調整目標）。

#### NFR-PERF-002 響應時間
- 一般查詢類 API 平均回應時間需低於 500ms（伺服端），不含網路延遲。

### 5.2 可用性需求（NFR-USAB）

#### NFR-USAB-001 支援多裝置瀏覽
- 前端介面需採 RWD 設計，支援桌機、平板與手機。

#### NFR-USAB-002 介面一致性
- 相同功能元素在各頁面位置與樣式需一致（按鈕風格、顏色、動作）。

### 5.3 安全性需求（NFR-SEC）

#### NFR-SEC-001 帳號與資料保護
- 所有密碼需使用強雜湊演算法儲存（如 bcrypt/Argon2）。
- 使用者敏感資料傳輸需透過 HTTPS 加密。

#### NFR-SEC-002 OWASP 風險防範
- 系統需針對常見 Web 漏洞提供防護（SQL Injection、XSS、CSRF、Broken Auth 等）。

### 5.4 可維運性與擴充性（NFR-MAINT）

- 原始碼需依專案既定規範進行模組化與註解。
- 需提供健康檢查端點供監控系統使用（例如：`/health`）。

---

## 6. 系統限制與假設

### 6.1 系統限制
- 初期僅支援單一幣別（新臺幣），未提供多幣別切換。
- 初期僅支援臺灣地區配送。

### 6.2 系統假設
- 使用者具備基本網路使用能力與設備。
- 第三方金流與物流服務可用，且提供穩定 API 介面。

---

## 7. 驗收標準

### 7.1 功能驗收
- 所有「必須」等級需求（Must）對應的測試案例皆通過。
- 關鍵流程（註冊、登入、下單、付款、訂單查詢）需在正式環境上通過端對端測試。

### 7.2 效能驗收
- 依非功能需求定義的負載測試（如 1,000 併發）達成預期響應時間與錯誤率門檻。

### 7.3 安全性驗收
- 外部或內部資安掃描之高風險與中風險項目需修正或有可接受之緩解方案。
